--DO NOT EDIT - This is a generated - edit Software/Boootloader/srectovhdl.c 
-- Wishbone Block Ram -------------------------------------------------------
library ieee;
use ieee.std_logic_1164.ALL;
use ieee.numeric_std.all;

entity wb_bram is
   port (
      clk      : in  std_logic;
      reset    : in  std_logic;
      -- Wishbone bus
      wb_adr_i : in  std_logic_vector(31 downto 0);
      wb_dat_i : in  std_logic_vector(31 downto 0);
      wb_dat_o : out std_logic_vector(31 downto 0);
      wb_sel_i : in  std_logic_vector( 3 downto 0);
      wb_cyc_i : in  std_logic;
      wb_stb_i : in  std_logic;
      wb_ack_o : out std_logic;
      wb_we_i  : in  std_logic );
end wb_bram;

-----------------------------------------------------------------------------
-- Implementation -----------------------------------------------------------
architecture rtl of wb_bram is

constant mem_size : natural := (8*512) - 1;
type mem_type is array(0 to mem_size) of std_logic_vector(31 downto 0);

-----------------------------------------------------------------------------
-- Pre-Initialized-Data -----------------------------------------------------
signal mem : mem_type := (
	x"98000000", x"D0000000", x"78010000", x"38210000", 
	x"D0E10000", x"F8000003", x"34000000", x"34000000", 
	x"98000000", x"781C0000", x"3B9C1000", x"379CFFFC", 
	x"781A0000", x"3B5A0800", x"34010000", x"34020000", 
	x"34030000", x"F800007F", x"34000001", x"D0000000", 
	x"C3A00000", x"3400000F", x"D0200000", x"C3A00000", 
	x"34000000", x"D0000000", x"C3A00000", x"E0000000", 
	x"E0000000", x"379CFF80", x"5B810004", x"5B820008", 
	x"5B83000C", x"5B840010", x"5B850014", x"5B860018", 
	x"5B87001C", x"5B880020", x"5B890024", x"5B8A0028", 
	x"5B9E0078", x"5B9F007C", x"2B810080", x"5B810074", 
	x"BB800800", x"34210080", x"5B810070", x"C3A00000", 
	x"2B810004", x"2B820008", x"2B83000C", x"2B840010", 
	x"2B850014", x"2B860018", x"2B87001C", x"2B880020", 
	x"2B890024", x"2B8A0028", x"2B9D0074", x"2B9E0078", 
	x"2B9F007C", x"2B9C0070", x"C3C00000", x"379CFFF8", 
	x"5B8B0008", x"5B9D0004", x"F800010F", x"3C2B0008", 
	x"F800010D", x"B5615800", x"3D6B0008", x"F800010A", 
	x"B5615800", x"3D6B0008", x"F8000107", x"B5610800", 
	x"2B8B0008", x"2B9D0004", x"379C0008", x"C3A00000", 
	x"379CFFF0", x"5B8B0010", x"5B8C000C", x"5B8D0008", 
	x"5B9D0004", x"780DF000", x"B8205800", x"39AD0000", 
	x"340C0007", x"A16D0800", x"0023001C", x"68620009", 
	x"34610030", x"44400002", x"34610037", x"3D6B0004", 
	x"F8000116", x"358CFFFF", x"4D80FFF7", x"2B8B0010", 
	x"2B8C000C", x"2B8D0008", x"2B9D0004", x"379C0010", 
	x"C3A00000", x"379CFFF4", x"5B8B000C", x"5B8C0008", 
	x"5B9D0004", x"780BB000", x"B9601000", x"7801B007", 
	x"396B0000", x"3821FFFE", x"596B0000", x"356B0004", 
	x"55610002", x"E3FFFFFD", x"B8405800", x"780CB007", 
	x"396B0000", x"398CFFFE", x"29620000", x"34010053", 
	x"444B000C", x"F80000F9", x"34010052", x"F80000F7", 
	x"34010041", x"F80000F5", x"3401004D", x"F80000F3", 
	x"3401000D", x"F80000F1", x"3401000A", x"F80000EF", 
	x"356B0004", x"556C0002", x"E3FFFFF0", x"2B8B000C", 
	x"2B8C0008", x"2B9D0004", x"379C000C", x"C3A00000", 
	x"379CFFEC", x"5B8B0014", x"5B8C0010", x"5B8D000C", 
	x"5B8E0008", x"5B9D0004", x"F80000AA", x"FBFFFF7E", 
	x"FBFFFF7A", x"34010053", x"F80000DC", x"34010070", 
	x"F80000DA", x"34010069", x"F80000D8", x"3401006B", 
	x"F80000D6", x"34010065", x"F80000D4", x"3401000D", 
	x"F80000D2", x"3401000A", x"F80000D0", x"FBFFFFC2", 
	x"F80000A9", x"B8201000", x"64210072", x"5C20001D", 
	x"68410072", x"5C200035", x"64410067", x"4420FFF9", 
	x"34010075", x"F80000C5", x"3401003A", x"F80000C3", 
	x"FBFFFF8B", x"B8207000", x"FBFFFF9A", x"3401002E", 
	x"F80000BE", x"FBFFFF5F", x"B9C00800", x"FBFFFF60", 
	x"34010058", x"F80000B9", x"34010058", x"F80000B7", 
	x"34010058", x"F80000B5", x"34010058", x"F80000B3", 
	x"F800008D", x"B8201000", x"64210072", x"4420FFE5", 
	x"34010000", x"FBFFFF52", x"34010075", x"F80000AB", 
	x"3401003A", x"F80000A9", x"FBFFFF71", x"B8207000", 
	x"FBFFFF80", x"3401003A", x"F80000A4", x"FBFFFF6C", 
	x"B8205800", x"FBFFFF7B", x"3401003A", x"B5CB6800", 
	x"F800009E", x"340C0000", x"B9C05800", x"51CD000A", 
	x"F8000075", x"31610000", x"B5816000", x"356B0001", 
	x"516D0005", x"E3FFFFFB", x"64410075", x"4420FFC5", 
	x"E3FFFFE6", x"B9800800", x"FBFFFF6A", x"3401002E", 
	x"F800008E", x"3401000D", x"F800008C", x"3401000A", 
	x"F800008A", x"E3FFFFD7", x"B8201000", x"64210001", 
	x"5C200004", x"64410002", x"5C20001B", x"C3A00000", 
	x"78060000", x"38C60820", x"28C10000", x"78020000", 
	x"38420824", x"28430000", x"C8230800", x"4C200002", 
	x"34210020", x"6821001E", x"5C200019", x"78010000", 
	x"38210640", x"28C50000", x"28240000", x"78030000", 
	x"38630820", x"28820008", x"30A20000", x"28C10000", 
	x"34210001", x"58C10000", x"28C20000", x"44430011", 
	x"C3A00000", x"78010000", x"38210644", x"28230000", 
	x"78020000", x"38420638", x"28410000", x"28640000", 
	x"34210001", x"58410000", x"C3A00000", x"78010000", 
	x"38210640", x"28220000", x"28430008", x"C3A00000", 
	x"78010000", x"38210800", x"58C10000", x"C3A00000", 
	x"379CFFF8", x"5B8B0008", x"5B9D0004", x"78040000", 
	x"38840644", x"28830000", x"08210C35", x"3402000A", 
	x"B8805800", x"58610010", x"34010000", x"58610014", 
	x"5862000C", x"FBFFFEEF", x"29620000", x"2841000C", 
	x"20210001", x"4420FFFC", x"2B8B0008", x"2B9D0004", 
	x"379C0008", x"C3A00000", x"78010000", x"38210644", 
	x"28230000", x"34020C35", x"58620004", x"34010000", 
	x"58610008", x"3402000E", x"58620000", x"C3A00000", 
	x"78010000", x"38210640", x"28250000", x"78030000", 
	x"78020000", x"3401000A", x"58A10004", x"38630824", 
	x"38420800", x"58620000", x"28640000", x"78010000", 
	x"38210820", x"58240000", x"34020004", x"58A20000", 
	x"C3A00000", x"78050000", x"38A50820", x"28A20000", 
	x"78040000", x"B8803000", x"38C60824", x"28C10000", 
	x"4441000F", x"B8802800", x"38A50824", x"28A40000", 
	x"78030000", x"38630820", x"40820000", x"28A10000", 
	x"204400FF", x"34210001", x"58A10000", x"28A20000", 
	x"4443000D", x"B8800800", x"C3A00000", x"78010000", 
	x"38210640", x"28230000", x"B8A03800", x"34050004", 
	x"58650000", x"28E20000", x"28C10000", x"4441FFFD", 
	x"E3FFFFE9", x"78010000", x"38210800", x"58A10000", 
	x"B8800800", x"C3A00000", x"78020000", x"38420640", 
	x"28420000", x"202300FF", x"28410000", x"20210002", 
	x"5C20FFFE", x"58430008", x"34010004", x"58410000", 
	x"C3A00000", x"379CFFF8", x"5B8B0008", x"5B9D0004", 
	x"B8205800", x"E0000003", x"FBFFFFF0", x"356B0001", 
	x"41610000", x"5C20FFFD", x"2B8B0008", x"2B9D0004", 
	x"379C0008", x"C3A00000", x"00000000", x"80002000", 
	x"80001000", x"80000000",    others => x"00000000" 
);

signal ack : std_logic;

begin

wb_ack_o <= wb_stb_i and ack;

memproc: process (clk) is
variable a : integer;
begin
        if clk'event and clk='1' then
        if wb_stb_i='1' and wb_cyc_i='1' then
                a := to_integer(unsigned(wb_adr_i(12 downto 2)));
        
                if wb_we_i='1' then 
                        mem(a) <= wb_dat_i;
                end if;

                wb_dat_o <= mem(a);
                ack <= '1' and not ack after 2 ns;
        else
                ack <= '0';
        end if;
        end if;
end process;

end rtl;
