#ifndef _MCP2551REGS_H
#define _MCP2551REGS_H

// Registers
enum {
	RXF0SIDH,
	RXF0SIDL,
	RXF0EID8,
	RXF0EID0,
	RXF1SIDH,
	RXF1SIDL,
	RXF1EID8,
	RXF1EID0,
	RXF2SIDH,
	RXF2SIDL,
	RXF2EID8,
	RXF2EID0,
	BFPCTRL,
	TXRTSCTRL,
	CANSTAT,
	CANCTRL,
	RXF3SIDH,
	RXF3SIDL,
	RXF3EID8,
	RXF3EID0,
	RXF4SIDH,
	RXF4SIDL,
	RXF4EID8,
	RXF4EID0,
	RXF5SIDH,
	RXF5SIDL,
	RXF5EID8,
	RXF5EID0,
	TEC,			// TRANSMIT ERROR COUNTER
	REC,			// RECEIVER ERROR COUNTER
	RXM0SIDH = 0x20,
	RXM0SIDL,
	RXM0EID8,
	RXM0EID0,
	RXM1SIDH,
	RXM1SIDL,
	RXM1EID8,
	RXM1EID0,
	CNF3,
	CNF2,
	CNF1,
	CANINTE,		// INTERRUPT ENABLE
	CANINTF,		// INTERRUPT FLAG
	EFLG,			// ERROR FLAG
	TXB0CTRL = 0x30,
	TXB0SIDH,
	TXB0SIDL,
	TXB0EID8,
	TXB0EID0,
	TXB0DLC,
	TXB0D0,
	RXB0CTRL = 0x60,
	RXB0SIDH,
	RXB0SIDL,
	RXB0EID8,
	RXB0EID0,
	RXB0DLC,
	RXB0D0
} mcp2515_regs_t;


// RXnBF PIN CONTROL AND STATUS
enum {
	B0BFM,
	B1BFM,
	B0BFE,
	B1BFE,
	B0BFS,
	B1BFS
} mcp2515_BFPCTRL_t;

// CAN CONTROL REGISTER
enum {
	CLKPRE0,
	CLKPRE1,
	CLKEN,
	OSM,
	ABAT,
	REQOP0,
	REQOP1,
	REQOP2
} mcp2515_CANCTRL_t;


// CONFIGURATION 1
// ###############
enum {
	PHSEG20,
	PHSEG21,
	PHSEG22,
	WAKFIL = 7,
	SOF
} mcp2515_CNF3_t;

enum {
	PRSEG0,
	PRSEG1,
	PRSEG2,
	PHSEG10,
	PHSEG11,
	PHSEG12,
	SAM,
	BTLMODE
} mcp2515_CNF2_t;

enum {
	BRP0,
	BRP1,
	BRP2,
	BRP3,
	BRP4,
	BRP5,
	SJW0,
	SJW1
} mcp2515_CNF1_t;
// ###############


// INTERRUPT ENABLE
enum {
	RX0IE,
	RX1IE,
	TX0IE,
	TX1IE,
	TX2IE,
	ERRIE,
	WAKIE,
	MERRE
} mcp2515_CANINTE_t;

// INTERRUPT FLAG
enum {
	RX0IF,
	RX1IF,
	TX0IF,
	TX1IF,
	TX2IF,
	ERRIF,
	WAKIF,
	MERRF
} mcp2515_CANINTF_t;


// TRANSMIT BUFFER n CONTROL REGISTER
enum {
	TXP0,
	TXP1,
	TXREQ = 3,
	TXERR,
	MLOA,
	ABTF
} mcp2515_TXBnCTRL_t;

// RECEIVE BUFFER 0 CONTROL
enum {
	FILHIT0,
	BUKT1,
	BUKT,
	RXRTR,
	RXM0 = 5,
	RXM1
} mcp2515_RXB0CTRL_t;

// RECEIVE BUFFER 1 CONTROL

// Extended Identifier Enable bit
	#define EXIDE 3


enum {
	TXB0,
	TXB1,
	TXB2
} mcp2515_RTSCMD_t;

//Command Bytes
#define RESET 0xC0
#define READ 0x03
#define READ_RX_BUFFER 0x90
#define WRITE 0x02
#define LOAD_TX_BUFFER 0x40
#define RTS 0x80
#define READ_STATUS 0xA0
#define RX_STATUS 0xB0
#define BIT_MODIFY 0x05

// Controller Modes

typedef enum {
	NORMAL,
	MODE_SLEEP,
	LOOPBACK,
	LISTENONLY,
	CONFIG
} mcp2515_mode_t;

#endif //_MCP2551REGS_H
