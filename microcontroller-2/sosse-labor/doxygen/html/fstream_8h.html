<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.0 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>SOSSE: fstream.h File Reference</title>
<link href="sos.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.4.7 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li id="current"><a href="files.html"><span>Files</span></a></li>
    <li><a href="pages.html"><span>Related&nbsp;Pages</span></a></li>
  </ul></div>
<div class="tabs">
  <ul>
    <li><a href="files.html"><span>File&nbsp;List</span></a></li>
    <li><a href="globals.html"><span>Globals</span></a></li>
  </ul></div>
<h1>fstream.h File Reference</h1>File stream declarations. <a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="types_8h-source.html">types.h</a>&gt;</code><br>

<p>
<a href="fstream_8h-source.html">Go to the source code of this file.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Data Structures</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">struct &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="structs__fstream.html">s_fstream</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stream struct.  <a href="structs__fstream.html#_details">More...</a><br></td></tr>
<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef <a class="el" href="structs__fstream.html">s_fstream</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fstream_8h.html#d0bbd174862667009671df759105bc9b">S_FSTREAM</a></td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Stream struct.  <a href="#d0bbd174862667009671df759105bc9b"></a><br></td></tr>
<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="types_8h.html#97a80ca1602ebf2303258971a2c938e2">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fstream_8h.html#386424e62f60cec15c42698f322001e8">fstream_read</a> (<a class="el" href="structs__fstream.html">S_FSTREAM</a> *fs, <a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a> *dst, <a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a> len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Read data from a stream.  <a href="#386424e62f60cec15c42698f322001e8"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="types_8h.html#97a80ca1602ebf2303258971a2c938e2">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fstream_8h.html#e973258fc48b63c8cc36ccc7168b1908">fstream_write</a> (<a class="el" href="structs__fstream.html">S_FSTREAM</a> *fs, <a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a> *src, <a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a> len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Write data to a stream.  <a href="#e973258fc48b63c8cc36ccc7168b1908"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="types_8h.html#97a80ca1602ebf2303258971a2c938e2">bool</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="fstream_8h.html#73854dd54261634e486b4ca9eba03be9">fstream_test</a> (<a class="el" href="structs__fstream.html">S_FSTREAM</a> *fs, <a class="el" href="types_8h.html#f78b002cffb8a135ab10841bc49e3e14">iu16</a> len)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">This function tests, if enough space is available to read or write <em>len</em> bytes.  <a href="#73854dd54261634e486b4ca9eba03be9"></a><br></td></tr>
</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
File stream declarations. 
<p>
These streams are used to pass more easily EEPROM areas around and to reduce the chances of overwriting unwanted EEPROM areas, e.g. by overflowing the data area.<p>
This is a very slim version of the streams implemented in cryptlib from Peter Gutmann.<p>
<dl compact><dt><b>Id</b></dt><dd><a class="el" href="fstream_8h.html">fstream.h</a>,v 1.8 2002/12/22 15:42:55 m Exp </dd></dl>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="d0bbd174862667009671df759105bc9b"></a><!-- doxytag: member="fstream.h::S_FSTREAM" ref="d0bbd174862667009671df759105bc9b" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structs__fstream.html">s_fstream</a>  <a class="el" href="structs__fstream.html">S_FSTREAM</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stream struct. 
<p>

</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="386424e62f60cec15c42698f322001e8"></a><!-- doxytag: member="fstream.h::fstream_read" ref="386424e62f60cec15c42698f322001e8" args="(S_FSTREAM *fs, iu8 *dst, iu8 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#97a80ca1602ebf2303258971a2c938e2">bool</a> fstream_read           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__fstream.html">S_FSTREAM</a> *&nbsp;</td>
          <td class="paramname"> <em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a> *&nbsp;</td>
          <td class="paramname"> <em>dst</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a>&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Read data from a stream. 
<p>
Either this functions reads all data or nothing.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fs</em>&nbsp;</td><td>Pointer to S_FSTREAM, on which it should be operated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>dst</em>&nbsp;</td><td>Pointer to the data destination. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of the data</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TRUE</em>&nbsp;</td><td>on success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FALSE</em>&nbsp;</td><td>on failure. Error code given in sw. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="73854dd54261634e486b4ca9eba03be9"></a><!-- doxytag: member="fstream.h::fstream_test" ref="73854dd54261634e486b4ca9eba03be9" args="(S_FSTREAM *fs, iu16 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#97a80ca1602ebf2303258971a2c938e2">bool</a> fstream_test           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__fstream.html">S_FSTREAM</a> *&nbsp;</td>
          <td class="paramname"> <em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#f78b002cffb8a135ab10841bc49e3e14">iu16</a>&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
This function tests, if enough space is available to read or write <em>len</em> bytes. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fs</em>&nbsp;</td><td>Pointer to S_FSTREAM, on which it should be operated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of the data</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TRUE</em>&nbsp;</td><td>on success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FALSE</em>&nbsp;</td><td>on failure. Error code given in sw. </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="e973258fc48b63c8cc36ccc7168b1908"></a><!-- doxytag: member="fstream.h::fstream_write" ref="e973258fc48b63c8cc36ccc7168b1908" args="(S_FSTREAM *fs, iu8 *src, iu8 len)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="types_8h.html#97a80ca1602ebf2303258971a2c938e2">bool</a> fstream_write           </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="structs__fstream.html">S_FSTREAM</a> *&nbsp;</td>
          <td class="paramname"> <em>fs</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a> *&nbsp;</td>
          <td class="paramname"> <em>src</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="types_8h.html#95a7dea5cbac1a117a50dccc69944d6e">iu8</a>&nbsp;</td>
          <td class="paramname"> <em>len</em></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Write data to a stream. 
<p>
This functions tries to write all or nothing.<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fs</em>&nbsp;</td><td>Pointer to S_FSTREAM, on which it should be operated. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>src</em>&nbsp;</td><td>Pointer to data source. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>len</em>&nbsp;</td><td>Length of the data</td></tr>
  </table>
</dl>
<dl compact><dt><b>Return values:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>TRUE</em>&nbsp;</td><td>on success. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>FALSE</em>&nbsp;</td><td>on failure. Error code given in sw. </td></tr>
  </table>
</dl>

</div>
</div><p>
<hr><address><small>
Copyright 2002 by Matthias Bruestle. This is licensed under the GNU
General Public License.
</small></address>
</body>
</html>
