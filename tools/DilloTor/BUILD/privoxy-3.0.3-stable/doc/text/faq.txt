Privoxy Frequently Asked Questions

[ Copyright © 2001-2004 by Privoxy Developers ]

$Id: faq.txt,v 1.42.2.7 2004/01/30 23:46:57 oes Exp $

This FAQ gives quick answers to frequently asked questions about Privoxy. It
can't and doesn't replace the User Manual.

Privoxy is a web proxy with advanced filtering capabilities for protecting
privacy, modifying web page content, managing cookies, controlling access, and
removing ads, banners, pop-ups and other obnoxious Internet junk. Privoxy has a
very flexible configuration and can be customized to suit individual needs and
tastes. Privoxy has application for both stand-alone systems and multi-user
networks.

Privoxy is based on Internet Junkbuster (tm).

Please note that this document is constantly evolving. This copy represents the
state at the release of version 3.0.3. You can find the latest version of the
document at http://www.privoxy.org/faq/. Please see the Contact section if you
want to contact the developers.

-------------------------------------------------------------------------------

Table of Contents
1. General Information

    1.1. What is this new version of Privoxy?
    1.2. Why "Privoxy"? Why a name change at all?
    1.3. How does Privoxy differ from the old Junkbuster?
    1.4. What is a "proxy"? How does Privoxy work?
    1.5. How does Privoxy know what is an ad, and what is not?
    1.6. Can Privoxy make mistakes? This does not sound very scientific.
    1.7. Will I have to configure Privoxy before I can use it?
    1.8. My browser does the same things as Privoxy. Why should I use Privoxy
        at all?
    1.9. Is there is a license or fee? What about a warranty? Registration?
    1.10. I would like to help you, what do I do?

        1.10.1. Money Money Money
        1.10.2. Software
        1.10.3. You want to work with us?

2. Installation

    2.1. Which browsers are supported by Privoxy?
    2.2. Which operating systems are supported?
    2.3. Can I use Privoxy with my email client?
    2.4. Can I install Privoxy over Junkbuster?
    2.5. I just installed Privoxy. Is there anything special I have to do now?
    2.6. What is the proxy address of Privoxy?
    2.7. I just installed Privoxy, and nothing is happening. All the ads are
        there. What's wrong?
    2.8. I get a "Privoxy is not being used" dummy page although Privoxy is
        running and being used.

3. Configuration

    3.1. Where can I get updated Actions Files?
    3.2. Can I use my old config files?
    3.3. What is an "actions" file?
    3.4. The "actions" concept confuses me. Please list some of these
        "actions".
    3.5. How are actions files configured? What is the easiest way to do this?
    3.6. There are several different "actions" files. What are the differences?
    3.7. How can I make my Yahoo/Hotmail/GMX account work?
    3.8. What's the difference between the "Cautious", "Medium" and
        "Adventuresome" defaults?
    3.9. Why can I change the configuration with a browser? Does that not raise
        security issues?
    3.10. What is the default.filter file? What is a "filter"?
    3.11. How can I set up Privoxy to act as a proxy for my LAN?
    3.12. Instead of ads, now I get a checkerboard pattern. I don't want to see
        anything.
    3.13. Why would anybody want to see a checkerboard pattern?
    3.14. I see some images being replaced by a text instead of the
        checkerboard image. Why and how do I get rid of this?
    3.15. Can Privoxy run as a service on Win2K/NT?
    3.16. How can I make Privoxy work with other proxies like Squid?
    3.17. Can I just set Privoxy to use port 80 and thus avoid individual
        browser configuration?
    3.18. Can Privoxy run as a "transparent" proxy?
    3.19. How can I configure Privoxy for use with Outlook Express?
    3.20. How can I have separate rules just for HTML mail?
    3.21. How can I allow permanent cookies for my trusted sites?

4. Miscellaneous

    4.1. How much does Privoxy slow my browsing down? This has to add extra
        time to browsing.
    4.2. I noticed considerable delays in page requests compared to the old
        Junkbuster. What's wrong?
    4.3. What are "http://config.privoxy.org/" and "http://p.p/"?
    4.4. Do you still maintain the blocklists?
    4.5. How can I submit new ads?
    4.6. How can I hide my IP address?
    4.7. Can Privoxy guarantee I am anonymous?
    4.8. Might some things break because header information or content is being
        altered?
    4.9. Can Privoxy act as a "caching" proxy to speed up web browsing?
    4.10. What about as a firewall? Can Privoxy protect me?
    4.11. I have large empty spaces / a checkerboard pattern now where ads used
        to be. Why?
    4.12. How can Privoxy filter Secure (HTTPS) URLs?
    4.13. Privoxy runs as a "server". How secure is it? Do I need to take any
        special precautions?
    4.14. How can I temporarily disable Privoxy?
    4.15. When "disabled" is Privoxy totally out of the picture?
    4.16. My logs show Privoxy "crunches" ads, but also its own CGI pages. What
        is a "crunch"?
    4.17. Can Privoxy effect files that I download from a webserver? FTP
        server?
    4.18. I just downloaded a Perl script, and Privoxy altered it! Yikes, what
        is wrong!
    4.19. Where can I find more information about Privoxy and related issues?
    4.20. I've noticed that Privoxy changes "Microsoft" to "MicroSuck"! Why are
        you manipulating my browsing?

5. Troubleshooting

    5.1. I just upgraded and am getting "connection refused" with every web
        page?
    5.2. I just added a new rule, but the steenkin ad is still getting through.
        How?
    5.3. One of my favorite sites does not work with Privoxy. What can I do?
    5.4. After installing Privoxy, I have to log in every time I start IE. What
        gives?
    5.5. I cannot connect to any FTP sites. Privoxy seems to be blocking me.
    5.6. In Mac OSX, I can't configure Microsoft Internet Explorer to use
        Privoxy as the HTTP proxy.
    5.7. In Mac OSX, I dragged the Privoxy folder to the trash in order to
        uninstall it. Now the finder tells me I don't have sufficient
        privileges to empty the trash.
    5.8. In Mac OSX Panther (10.3), images often fail to load and/or I
        experience random delays in page loading. I'm using localhost as my
        browser's proxy setting.
    5.9. I get a completely blank page at one site. "View Source" shows only:
        <html><body></body></html>. Without Privoxy the page loads fine.
    5.10. Why am I getting a 503 Error (WSAECONNREFUSED) on every page?
    5.11. My logs show many "Unable to get my own hostname" lines. Why?
    5.12. When I try to launch Privoxy, I get an error message "port 8118 is
        already in use" (or similar wording). Why?
    5.13. Pages with UTF-8 fonts are garbled.
    5.14. Why are binary files (such as images) corrupted when Privoxy is used?
    5.15. What is the "demoronizer" and why is it there?
    5.16. Why do I keep seeing "PrivoxyWindowOpen()" in raw source code?

6. Contacting the developers, Bug Reporting and Feature Requests

    6.1. Get Support
    6.2. Report Bugs
    6.3. Request New Features
    6.4. Report Ads or Other Actions-Related Problems
    6.5. Other

7. Privoxy Copyright, License and History

    7.1. License
    7.2. History

1. General Information

1.1. What is this new version of Privoxy?

In the beginning, there was the Internet Junkbuster, by Anonymous Coders and
Junkbusters Corporation. It saved many users a lot of pain in the early days of
web advertising and user tracking.

But the web, its protocols and standards, and with it, the techniques for
forcing users to consume ads, give up autonomy over their browsing, and for
spying on them, kept evolving. Unfortunately, the Internet Junkbuster did not.
Version 2.0.2, published in 1998, was (and is) the last official release
available from Junkbusters Corporation. Fortunately, it had been released under
the GNU GPL, which allowed further development by others.

So Stefan Waldherr started maintaining an improved version of the software, to
which eventually a number of people contributed patches. It could already
replace banners with a transparent image, and had a first version of pop-up
killing, but it was still very closely based on the original, with all its
limitations, such as the lack of HTTP/1.1 support, flexible per-site
configuration, or content modification. The last release from this effort was
version 2.0.2-10, published in 2000.

Then, some developers picked up the thread, and started turning the software
inside out, upside down, and then reassembled it, adding many new features
along the way.

The result of this is Privoxy, whose first stable version, 3.0, was released
August, 2002.

-------------------------------------------------------------------------------

1.2. Why "Privoxy"? Why a name change at all?

Privoxy is the "Privacy Enhancing Proxy". Also, its content modification and
junk suppression allow you to browse your "private edition" of the web.

Junkbusters Corporation continues to offer their original version of the
Internet Junkbuster, so publishing our Junkbuster-derived software under the
same name led to confusion.

There are also potential legal complications from the continued use of the
Junkbuster name, which is a registered trademark of Junkbusters Corporation.
There are, however, no objections from Junkbusters Corporation to the Privoxy
project itself, and they, in fact, still share our ideals and goals.

The developers also believed that there are so many changes from the original
code, that it was time to make a clean break from the past and make a name in
their own right.

-------------------------------------------------------------------------------

1.3. How does Privoxy differ from the old Junkbuster?

Privoxy picks up where Junkbuster left off. All the old features remain. The
new Privoxy still blocks ads and banners, still manages cookies, and still
helps protect your privacy. But, these are all enhanced, and many new features
have been added, all in the same vein.

The configuration has changed significantly as well. This is something that
users will notice right off the bat if upgrading from Junkbuster 2.0.x. The
"blocklist" "cookielist", "imagelist" and much more has been combined into the
"actions" files, with a completely different syntax. See the note to upgraders
for details.

Privoxy's new features include:

  * Integrated browser based configuration and control utility at http://
    config.privoxy.org/ (shortcut: http://p.p/). Browser-based tracing of rule
    and filter effects. Remote toggling.

  * Web page content filtering (removes banners based on size, invisible
    "web-bugs", JavaScript and HTML annoyances, pop-up windows, etc.)

  * Modularized configuration that allows for standard settings and user
    settings to reside in separate files, so that installing updated actions
    files won't overwrite individual user settings.

  * HTTP/1.1 compliant (but not all optional 1.1 features are supported).

  * Support for Perl Compatible Regular Expressions in the configuration files,
    and generally a more sophisticated and flexible configuration syntax over
    previous versions.

  * Improved cookie management features (e.g. session based cookies).

  * GIF de-animation.

  * Bypass many click-tracking scripts (avoids script redirection).

  * Multi-threaded (POSIX and native threads).

  * User-customizable HTML templates for all proxy-generated pages (e.g.
    "blocked" page).

  * Auto-detection and re-reading of config file changes.

  * Improved signal handling, and a true daemon mode (Unix).

  * Every feature now controllable on a per-site or per-location basis,
    configuration more powerful and versatile over-all.

  * Many smaller new features added, limitations and bugs removed, and security
    holes fixed.

-------------------------------------------------------------------------------

1.4. What is a "proxy"? How does Privoxy work?

A web proxy is a service, based on a software such as Privoxy, that clients
(i.e. browsers) can use instead of connecting directly to the web servers on
the Internet. The clients then ask the proxy to fetch the objects they need
(web pages, images, movies etc) on their behalf, and when the proxy has done
so, it hands the results back to the client.

There are many reasons to use web proxies, such as security (firewalling),
efficiency (caching) and others, and there are just as many different proxies
to accommodate those needs.

Privoxy is a proxy that is solely focused on privacy protection and junk
elimination. Sitting between your browser(s) and the Internet, it is in a
perfect position to filter outbound personal information that your browser is
leaking, as well as inbound junk. It uses a variety of techniques to do this,
all of which are under your control via the various configuration files and
options.

-------------------------------------------------------------------------------

1.5. How does Privoxy know what is an ad, and what is not?

Privoxy's approach to blocking ads is twofold:

First, there are certain patterns in the locations (URLs) of banner images.
This applies to both the path (you wouldn't guess how many web sites serve
their banners from a directory called "banners"!) and the host (blocking the
big banner hosting services like doublecklick.net already helps a lot). Privoxy
takes advantage of this fact by using URL patterns to sort out and block the
requests for banners.

Second, banners tend to come in certain sizes. But you can't tell the size of
an image by its URL without downloading it, and if you do, it's too late to
save bandwidth. Therefore, Privoxy also inspects the HTML sources of web pages
while they are loaded, and replaces references to images with standard banner
sizes by dummy references, so that your browser doesn't request them anymore in
the first place.

Both of this involves a certain amount of guesswork and is, of course, freely
configurable.

-------------------------------------------------------------------------------

1.6. Can Privoxy make mistakes? This does not sound very scientific.

Actually, it's a black art ;-) And yes, it is always possible to have a broad
rule accidentally block or change something by mistake. You will almost surely
run into such situations at some point. It is tricky writing rules to cover
every conceivable possibility, and not occasionally get false positives.

But this should not be a big concern since the Privoxy configuration is very
flexible, and includes tools to help identify these types of situations so they
can be addressed as needed, allowing you to customize your installation. (See
the Troubleshooting section below.)

-------------------------------------------------------------------------------

1.7. Will I have to configure Privoxy before I can use it?

No, not really. The default installation should give you a good starting point,
and block most unwanted content.

But you will certainly run into situations where there are false positives, or
ads not being blocked that you may not want to see. In these cases, you would
certainly benefit by customizing Privoxy's configuration to more closely match
your individual situation. And we would encourage you to do this. This is where
the real power of Privoxy lies!

-------------------------------------------------------------------------------

1.8. My browser does the same things as Privoxy. Why should I use Privoxy at
all?

Modern browsers do indeed have some of the same functionality as Privoxy. Maybe
this is adequate for you. But Privoxy is much more versatile and powerful, and
can do a number of things that browsers just can't.

In addition, a proxy is good choice if you use multiple browsers, or have a LAN
with multiple computers. This way all the configuration is in one place, and
you don't have to maintain a similar configuration for possibly many browsers.

-------------------------------------------------------------------------------

1.9. Is there is a license or fee? What about a warranty? Registration?

Privoxy is licensed under the GNU General Public License (GPL). It is free to
use, copy, modify or distribute as you wish under the terms of this license.
Please see the Copyright section for more information on the license and
copyright. Or the LICENSE file that should be included.

There is no warranty of any kind, expressed, implied or otherwise. That is
something that would cost real money ;-) There is no registration either.
Privoxy really is free in every respect!

-------------------------------------------------------------------------------

1.10. I would like to help you, what do I do?

1.10.1. Money Money Money

We, of course, welcome donations and could use money for domain registering,
buying software to test Privoxy with, and, of course, for regular world-wide
get-togethers (hahaha). If you enjoy the software and feel like helping us with
a donation, just drop us a note.

-------------------------------------------------------------------------------

1.10.2. Software

If you are a vendor of a web-related software like a browser, web server or
proxy, and would like us to ensure that Privoxy runs smoothly with your
product, you might consider supplying us with a copy or license. We can't,
however, guarantee that we will fix all potential compatibility issues as a
result.

-------------------------------------------------------------------------------

1.10.3. You want to work with us?

Well, helping the team is always a good idea. We welcome new developers,
packaging gurus or documentation writers. Simply get an account on
SourceForge.net and mail your id to the developers mailing list. Then read the
Developer's Manual.

Once we have added you to the team, you'll have write access to the CVS
repository, and together we'll find a suitable task for you.

-------------------------------------------------------------------------------

2. Installation

2.1. Which browsers are supported by Privoxy?

Any browser that can be configured to use a proxy, which should be virtually
all browsers. Direct browser support is not necessary since Privoxy runs as a
separate application and talks to the browser in the standardized HTTP
protocol, just like a web server does.

-------------------------------------------------------------------------------

2.2. Which operating systems are supported?

At present, Privoxy is known to run on Windows(95, 98, ME, 2000, XP), Linux
(RedHat, SuSE, Debian, Conectiva, Gentoo, Slackware), Mac OSX, OS/2, AmigaOS,
BeOS, FreeBSD, NetBSD, OpenBSD, Solaris, and many more flavors of Unix.

But any operating system that runs TCP/IP, can conceivably take advantage of
Privoxy in a networked situation where Privoxy would run as a server on a LAN
gateway. Then only the "gateway" needs to be running one of the above operating
systems.

Source code is freely available, so porting to other operating systems is
always a possibility.

-------------------------------------------------------------------------------

2.3. Can I use Privoxy with my email client?

As long as there is some way to set a HTTP proxy for the client, then yes, any
application can be used, whether it is strictly speaking a "browser" or not.
Though this may not be the best approach for dealing with some of the common
abuses of HTML in email. See How can I configure Privoxy with Outlook Express?
below for more on this.

Be aware that HTML email presents a number of unique security and privacy
related issues, that can require advanced skills to overcome. The developers
recommend using email clients that can be configured to convert HTML to plain
text for these reasons.

-------------------------------------------------------------------------------

2.4. Can I install Privoxy over Junkbuster?

We recommend you un-install Junkbuster first to minimize conflicts and
confusion. You may want to save your old configuration files for future
reference. The configuration files and syntax have substantially changed, so
you will need to manually port your old patterns. See the note to upgraders and
installation chapter in the user manual for details.

Note: Some installers may automatically un-install Junkbuster, if present!

-------------------------------------------------------------------------------

2.5. I just installed Privoxy. Is there anything special I have to do now?

All browsers must be told to use Privoxy as a proxy by specifying the correct
proxy address and port number in the appropriate configuration area for the
browser. See below. You should also flush your browser's memory and disk cache
to get rid of any cached junk items, and remove any stored cookies.

-------------------------------------------------------------------------------

2.6. What is the proxy address of Privoxy?

If you set up the Privoxy to run on the computer you browse from (rather than
your ISP's server or some networked computer on a LAN), the proxy will be on
127.0.0.1 (sometimes referred to as "localhost", which is the special name used
by every computer on the Internet to refer to itself) and the port will be 8118
(unless you have Privoxy to run on a different port with the listen-address
config option).

When configuring your browser's proxy settings you typically enter the word
"localhost" or the IP address "127.0.0.1" in the boxes next to "HTTP" and
"Secure" (HTTPS) and then the number "8118" for "port". This tells your browser
to send all web requests to Privoxy instead of directly to the Internet.

Privoxy can also be used to proxy for a Local Area Network. In this case, your
would enter either the IP address of the LAN host where Privoxy is running, or
the equivalent hostname. Port assignment would be same as above. Note that
Privoxy doesn't listen on any LAN interfaces by default.

Privoxy does not currently handle any other protocols such as FTP, SMTP, IM,
IRC, ICQ, etc.

-------------------------------------------------------------------------------

2.7. I just installed Privoxy, and nothing is happening. All the ads are there.
What's wrong?

Did you configure your browser to use Privoxy as a proxy? It does not sound
like it. See above. You might also try flushing the browser's caches to force a
full re-reading of pages. You can verify that Privoxy is running, and your
browser is correctly configured by entering the special URL: http://p.p/. This
should take you to a page titled "This is Privoxy.." with access to Privoxy's
internal configuration. If you see this, then you are good to go. If you
receive a page saying "Privoxy is not running", then the browser is not set up
to use your Privoxy installation. If you receive anything else (probably
nothing at all), it could either be that the browser is not set up correctly,
or that Privoxy is not running at all. Check the log file. For instructions on
starting Privoxy and browser configuration, see the chapter on starting Privoxy
in the user manual.

-------------------------------------------------------------------------------

2.8. I get a "Privoxy is not being used" dummy page although Privoxy is running
and being used.

First, make sure that Privoxy is really running and being used by visiting
http://p.p/. You should see the Privoxy main page. If not, see the chapter on
starting Privoxy in the user manual.

Now if http://p.p/ works for you, but other parts of Privoxy's web interface
show the dummy page, your browser has cached a redirection it encountered
before Privoxy was being used. You need to clear your browser's cache. Note
that shift-reloading the dummy page won't help, since that'll only refresh the
dummy page, not the redirection that lead you there.

The procedure for clearing the cache varies from browser to browser. As an
example, Mozilla users would click Edit --> Preferences --> Advanced --> Cache
and then click both "Clear Memory Cache" and "Clear Disk Cache".

-------------------------------------------------------------------------------

3. Configuration

3.1. Where can I get updated Actions Files?

Based on your feedback and the continuing development, updated actions files
will be made available on the files section of our project page.

If you wish to receive an email notification whenever we release updates of
Privoxy or the actions file, subscribe to our announce mailing list,
ijbswa-announce@lists.sourceforge.net.

-------------------------------------------------------------------------------

3.2. Can I use my old config files?

The syntax, number, and purpose of configuration files has substantially
changed from Junkbuster and earlier versions of Privoxy. The old files, like
blocklist will not work at all. If you are upgrading from a 2.0.x version, you
will need to port your configuration data to the new format. Note that even the
pattern syntax has changed! Even configuration files from the 2.9.x versions
will need to be adapted, as configuration syntax has been very much in flow in
the 2.9.x series.

-------------------------------------------------------------------------------

3.3. What is an "actions" file?

Actions files are where various actions that Privoxy might take while
processing a certain request, are configured. Typically, you would define a set
of default actions that apply to all URLs, then add exceptions to these
defaults where needed.

Actions can be defined on a URL pattern basis, i.e. for single URLs, whole web
sites, groups or parts thereof etc. Actions can also be grouped together and
then applied to requests matching one or more patterns. There are many possible
actions that might apply to any given site. As an example, if you are blocking
cookies as one of your default actions, but need to accept cookies from a given
site, you would need to define an exception for this site in one of your
actions files, preferably in user.action.

-------------------------------------------------------------------------------

3.4. The "actions" concept confuses me. Please list some of these "actions".

For a comprehensive discussion of the actions concept, please refer to the
actions file chapter in the user manual. It includes a list of all actions and
an actions file tutorial to get you started.

-------------------------------------------------------------------------------

3.5. How are actions files configured? What is the easiest way to do this?

Actions files are just text files in a special syntax and can be edited with a
text editor. But probably the easiest way is to access Privoxy's user interface
with your web browser at http://config.privoxy.org/ (Shortcut: http://p.p/) and
then select "View & change the current configuration" from the menu.

-------------------------------------------------------------------------------

3.6. There are several different "actions" files. What are the differences?

As of Privoxy v2.9.15, three actions files are being included, to be used for
different purposes: These are default.action, the "main" actions file which is
actively maintained by the Privoxy developers, user.action, where users are
encouraged to make their private customizations, and standard.action, which is
for internal Privoxy use only. Please see the actions chapter in the user
manual for a more detailed explanation.

Earlier versions included three different versions of the default.action file.
The new scheme allows for greater flexibility of local configuration, and for
browser based selection of pre-defined "aggressiveness" levels.

-------------------------------------------------------------------------------

3.7. How can I make my Yahoo/Hotmail/GMX account work?

The default configuration shouldn't impact the usability of any of these
services. It will, however, make all cookies temporary, so that your browser
will forget your login credentials in between browser sessions. If you would
like not to have to log in manually each time you access those websites, simply
turn off all cookie handling for them in the user.action file. An example for
yahoo might look like:

# Allow all cookies for Yahoo login:
#
{ -crunch-incoming-cookies -crunch-outgoing-cookies -session-cookies-only }
.login.yahoo.com


-------------------------------------------------------------------------------

3.8. What's the difference between the "Cautious", "Medium" and "Adventuresome"
defaults?

Configuring Privoxy is not entirely trivial. To help you get started, we
provide you with three different default action "profiles" in the web based
actions file editor at http://config.privoxy.org/show-status. See the User
Manual for a list of actions, and how the default profiles are set.

Where the defaults are likely to break some sites, exceptions for known popular
"problem" sites are included, but in general, the more aggressive your default
settings are, the more exceptions you will have to make later. See the User
Manual for a more deatiled discussion.

It should be noted that the "Adventuresome" profile (formerly known as the
"Advanced" profile) is not only more aggressive, but also includes fun and,
extreme usage of most of Privoxy's features. Use at your own risk!

-------------------------------------------------------------------------------

3.9. Why can I change the configuration with a browser? Does that not raise
security issues?

It may seem strange that regular users can edit the config files with their
browsers, although the whole /etc/privoxy hierarchy belongs to the user
"privoxy", with only 644 permissions.

When you use the browser-based editor, Privoxy itself is writing to the config
files. Because Privoxy is running as the user "privoxy", it can update the
config files.

If you run Privoxy for multiple untrusted users (e.g. in a LAN), you will
probably want to turn the web-based editor and remote toggle features off by
setting "enable-edit-actions 0" and "enable-remote-toggle 0" in the main
configuration file.

Note that in the default configuration, only local users (i.e. those on
"localhost") can connect to Privoxy, so this is not (normally) a security
problem.

-------------------------------------------------------------------------------

3.10. What is the default.filter file? What is a "filter"?

The default.filter file is where filters are defined, which can be used to
modify or remove, web page content on the fly. Filters apply to anything in the
page source, including HTML tags, and JavaScript. Regular expressions are used
to accomplish this. There are a number of pre-defined filters to deal with
common annoyances. The filters are only defined here, to invoke them, you need
to use the filter action in one of the actions files. Filtering is
automatically disabled for inappropriate MIME types.

If you are familiar with regular expressions, and HTML, you can look at the
provided default.filter with a text editor and define your own filters. This is
potentially a very powerful feature, but requires some expertise in both
regular expressions and HTML/HTTP.

Presently, there is no GUI editor option for this part of the configuration,
but you can disable/enable the various pre-defined filters of the included
default.filter file with the web-based actions file editor.

-------------------------------------------------------------------------------

3.11. How can I set up Privoxy to act as a proxy for my LAN?

By default, Privoxy only responds to requests from 127.0.0.1 (localhost). To
have it act as a server for a network, this needs to be changed in the main
configuration file. Look for the listen-address option, which may be commented
out with a "#" symbol. Make sure it is uncommented, and assign it the address
of the LAN gateway interface, and port number to use. Assuming your LAN address
is 192.168.1.1 and you wish to run Privoxy on port 8118, this line should look
like:

  listen-address  192.168.1.1:8118


Save the file, and restart Privoxy. Configure all browsers on the network then
to use this address and port number.

Alternately, you can have Privoxy listen on all available interfaces:

  listen-address    :8118


And then use Privoxy's permit-access feature to limit connections. A firewall
in this situation is recommended as well.

The above steps should be the same for any TCP network, regardless of operating
system.

If you run Privoxy on a LAN with untrusted users, we recommend that you
double-check the access control and security options!

-------------------------------------------------------------------------------

3.12. Instead of ads, now I get a checkerboard pattern. I don't want to see
anything.

The replacement for blocked images can be controlled with the set-image-blocker
action. You have the choice of a checkerboard pattern, a transparent 1x1 GIF
image (aka "blank"), or a redirect to a custom image of your choice. Note that
this choice only has effect for images which are blocked as images, i.e. whose
URLs match both a handle-as-image and block action.

If you want to see nothing, then change the set-image-blocker action to
"blank". This can be done by editing the default.action file, or trough the
web-based actions file editor.

-------------------------------------------------------------------------------

3.13. Why would anybody want to see a checkerboard pattern?

Remember that telling which image is an ad and which isn't, is mostly
guesswork. While we hope that the standard configuration is rather smart, it
can and will make errors. The checkerboard image is visually decent, but it
shows you that and where images were blocked, which can be very helpful in case
some navigation aid or otherwise innocent image was erraneously blocked. Some
people might also enjoy seeing how many banners they don't have to see..

-------------------------------------------------------------------------------

3.14. I see some images being replaced by a text instead of the checkerboard
image. Why and how do I get rid of this?

This happens when the banners are not embedded in the HTML code of the page
itself, but in separate HTML (sub)documents that are loaded into (i)frames or
(i)layers, and these external HTML documents are blocked. Being non-images they
get replaced by a substitute HTML page rather than a substitute image, which
wouldn't work out technically, since the browser expects and accepts only HTML
when it has requested an HTML document.

The substitute page adapts to the available space and shows itself as a
miniature two-liner if loaded into small frames, or full-blown with a large red
"BLOCKED" banner if space allows.

If you prefer the banners to be blocked by images, you must see to it that the
HTML documents in which they are embedded are not blocked. Clicking the "See
why" link offered in the substitute page will show you which rule blocked the
page. After changing the rule and un-blocking the HTML documents, the browser
will try to load the actual banner images and the usual image blocking will
(hopefully!) kick in.

-------------------------------------------------------------------------------

3.15. Can Privoxy run as a service on Win2K/NT?

Yes, it can run as a system service using srvany.exe. See the discussion at
http://sourceforge.net/tracker/?func=detail&atid=361118&aid=485617&group_id=
11118, for details, and a sample configuration.

Version 3.0.1 fixes the problem where the icon and menu where not available in
the taskbar for this usage.

-------------------------------------------------------------------------------

3.16. How can I make Privoxy work with other proxies like Squid?

This can be done and is often useful to combine the benefits of Privoxy with
those of a caching proxy. See the forwarding chapter in the user manual which
describes how to do this.

-------------------------------------------------------------------------------

3.17. Can I just set Privoxy to use port 80 and thus avoid individual browser
configuration?

No, its more complicated than that. This only works with special kinds of
proxies known as "transparent" proxies (see below).

-------------------------------------------------------------------------------

3.18. Can Privoxy run as a "transparent" proxy?

No, Privoxy currently does not have this ability, though it is planned for a
future release. Transparent proxies require special handling of the request
headers beyond what Privoxy is now capable of.

Chaining Privoxy behind another proxy that has this ability should work though.
See the forwarding chapter in the user manual. As a transparent proxy to be
used for chaining we recommend Transproxy (http://www.transproxy.nlc.net.au/).

-------------------------------------------------------------------------------

3.19. How can I configure Privoxy for use with Outlook Express?

Outlook Express uses Internet Explorer components to both render HTML, and
fetch any HTTP requests that may be embedded in an HTML email. So however you
have Privoxy configured to work with IE, this configuration should
automatically be shared.

-------------------------------------------------------------------------------

3.20. How can I have separate rules just for HTML mail?

The short answer is, you can't. Privoxy has no way of knowing which particular
application makes a request, so there is no way to distinguish between web
pages and HTML mail. Privoxy just blindly proxies all requests. In the case of
Outlook Express (see above), OE uses IE anyway, and there is no way for Privoxy
to ever be able to distinguish between them (nor could any other proxy type
application for that matter).

For a good discussion of some of the issues involved (including privacy and
security issues), see http://sourceforge.net/tracker/?func=detail&atid=211118&
aid=629518&group_id=11118.

-------------------------------------------------------------------------------

3.21. How can I allow permanent cookies for my trusted sites?

There are several actions that relate to cookies. The default behavior is to
allow only "session cookies", which means the cookies only last for the current
browser session. This eliminates most kinds of abuse related to cookies. But
there may be cases where we want cookies to last.

To disable all cookie actions, so that cookies are allowed unrestricted, both
in and out, for example.com:

 { -crunch-incoming-cookies -crunch-outgoing-cookies -session-cookies-only -filter{content-cookies} }
  .example.com


Place the above in user.action. Note some of these may be off by default
anyway, so this might be redundant, but there is no harm being explicit in what
you want to happen. user.action includes an alias for this situation, called
allow-cookies.

-------------------------------------------------------------------------------

4. Miscellaneous

4.1. How much does Privoxy slow my browsing down? This has to add extra time to
browsing.

It should not slow you down any in real terms, and may actually help speed
things up since ads, banners and other junk are not being displayed. The actual
processing time required by Privoxy itself for each page, is relatively small
in the overall scheme of things, and happens very quickly. This is typically
more than offset by time saved not downloading and rendering ad images.

"Filtering" content via the filter or deanimate-gifs actions may cause a
perceived slowdown, since the entire document needs to be buffered before
displaying. See below.

-------------------------------------------------------------------------------

4.2. I noticed considerable delays in page requests compared to the old
Junkbuster. What's wrong?

If you use any filter action, such as filtering banners by size, web-bugs etc,
or the deanimate-gifs action, the entire document must be loaded into memory in
order for the filtering mechanism to work, and nothing is sent to the browser
during this time.

The loading time does not really change in real numbers, but the feeling is
different, because most browsers are able to start rendering incomplete
content, giving the user a feeling of "it works". This effect is especially
noticeable on slow dialup connections.

Filtering is automatically disabled for inappropriate MIME types. But note that
if the web server mis-reports the MIME type, then content that should not be
filtered, could be. Privoxy only knows how to differentiate filterable content
because of the MIME type as reported by the server, or because of some
configuration setting that enables/disables filtering.

-------------------------------------------------------------------------------

4.3. What are "http://config.privoxy.org/" and "http://p.p/"?

http://config.privoxy.org/ is the address of Privoxy's built-in user interface,
and http://p.p/ is a shortcut for it.

Since Privoxy sits between your web browser and the Internet, it can simply
intercept requests for these addresses and answer them with its built-in "web
server".

This also makes for a good test for your browser configuration: If entering the
URL http://config.privoxy.org/ takes you to a page saying "This is Privoxy
...", everything is OK. If you get a page saying "Privoxy is not working"
instead, then your browser didn't use Privoxy for the request, hence it could
not be intercepted, and you have accessed the real web site at
config.privoxy.org.

With recent versions of Privoxy (version 2.9.x and later), the user interface
features information on the run time status, the configuration, and even a
built-in editor for the actions files.

Note that the built-in URLs from earlier versions of Junkbuster / Privoxy,
http://example.com/show-proxy-args and http://i.j.b/, are no longer supported.
If you still use such an old version, you should really consider upgrading to
3.0.3.

-------------------------------------------------------------------------------

4.4. Do you still maintain the blocklists?

No. The patterns for blocking now reside (among other things) in the actions
files, which are actively maintained instead. See next question ...

-------------------------------------------------------------------------------

4.5. How can I submit new ads?

Yes, absolutely! Please see the Contact section for how to do that. Please note
that you (technically) need the latest Privoxy version for this to work.

-------------------------------------------------------------------------------

4.6. How can I hide my IP address?

If you run both the browser and the proxy locally, you cannot hide your IP
address with Privoxy or any other software. The server needs to know your IP
address to send the answers back to you.

Fortunately there are many publicly usable anonymous proxies out there, which
solve the problem by providing a further level of indirection between you and
the web server, shared by many people, and thus letting your requests "drown"
in white noise of unrelated requests as far as user tracking is concerned.

Most of them will, however, log your IP address and make it available to the
authorities in case you abuse that anonymity for criminal purposes. In fact you
can't even rule out that some of them only exist to *collect* information on
(those suspicious) people with a more than average preference for privacy.

You can find a list of anonymous public proxies at multiproxy.org and many more
through Google. A particularly interesting project is the JAP service offered
by the Technical University of Dresden (http://anon.inf.tu-dresden.de/
index_en.html).

There is, however, even in the single-machine case the possibility to make the
server believe that your machine is in fact a shared proxy serving a whole big
LAN, and we are looking into that.

-------------------------------------------------------------------------------

4.7. Can Privoxy guarantee I am anonymous?

No. Your chances of remaining anonymous are greatly improved, but unless you
are an expert on Internet security it would be safest to assume that everything
you do on the Web can be traced back to you.

Privoxy can remove various information about you, and allows you more freedom
to decide which sites you can trust, and what details you want to reveal. But
it's still possible that web sites can find out who you are. Here's one way
this can happen.

A few browsers disclose the user's email address in certain situations, such as
when transferring a file by FTP. Privoxy does not filter FTP. If you need this
feature, or are concerned about the mail handler of your browser disclosing
your email address, you might consider products such as NSClean.

Browsers available only as binaries could use non-standard headers to give out
any information they can have access to: see the manufacturer's license
agreement. It's impossible to anticipate and prevent every breach of privacy
that might occur. The professionally paranoid prefer browsers available as
source code, because anticipating their behavior is easier. Trust the source,
Luke!

-------------------------------------------------------------------------------

4.8. Might some things break because header information or content is being
altered?

Definitely. More and more sites use HTTP header content to decide what to
display and how to display it. There is many ways that this can be handled, so
having hard and fast rules, is tricky.

"User-Agent" in particular is often used in this way to identify the browser,
and adjust content accordingly. Changing this now (at least not further than
removing the OS information) is not recommended, since so many sites do look
for it. You may get undesirable results by changing this.

For instance, different browsers use different encodings of Russian and Czech
characters, certain web servers convert pages on-the-fly according to the User
Agent header. Giving a "User Agent" with the wrong operating system or browser
manufacturer causes some sites in these languages to be garbled; Surfers to
Eastern European sites should change it to something closer. And then some page
access counters work by looking at the "Referer" header; they may fail or break
if unavailable. The weather maps of Intellicast have been blocked by their
server when no "Referer" or cookie is provided, is another example. (But you
can forge both headers without giving information away). There are many other
ways things can go wrong when trying to fool a web server.

Similar thoughts apply to modifying JavaScript, and, to a lesser degree, HTML
elements.

If you have problems with a site, you will have to adjust your configuration
accordingly. Cookies are probably the most likely adjustment that may be
required, but by no means the only one.

-------------------------------------------------------------------------------

4.9. Can Privoxy act as a "caching" proxy to speed up web browsing?

No, it does not have this ability at all. You want something like Squid for
this. And, yes, before you ask, Privoxy can co-exist with other kinds of
proxies like Squid. See the forwarding chapter in the user manual for details.

-------------------------------------------------------------------------------

4.10. What about as a firewall? Can Privoxy protect me?

Not in the way you mean, or in the way a true firewall can. Privoxy can help
protect your privacy, but not protect you from intrusion attempts. It is, of
course, perfectly possible and recommended to use both.

-------------------------------------------------------------------------------

4.11. I have large empty spaces / a checkerboard pattern now where ads used to
be. Why?

It would be technically possible eliminate the banners in a way that frees
their screen estate in many cases, by doing all banner blocking with filters,
i.e. eliminating the whole image references from the HTML pages instead of
letting them stay in, and blocking the resulting requests for the banners
themselves.

But this would consume considerable CPU resources, would likely destroy the
layout of many web pages which rely on the banners consuming a certain amount
of screen space, and would fail in other cases, where the screen space is
reserved e.g. by tables anyway. Also, making the banners disappear without a
visual trace complicates troubleshooting.

So we won't support this in the default configuration, but you can of course
define appropriate filters yourself.

-------------------------------------------------------------------------------

4.12. How can Privoxy filter Secure (HTTPS) URLs?

Since secure HTTP connections are encrypted SSL sessions between your browser
and the secure site, and are meant to be reliably secure, there is little that
Privoxy can do but hand the raw gibberish data though from one end to the other
unprocessed.

The only exception to this is blocking by host patterns, as the client needs to
tell Privoxy the name of the remote server, so that Privoxy can establish the
connection. If that name matches a host-only pattern, the connection will be
blocked.

As far as ad blocking is concerned, this is less of a restriction than it may
seem, since ad sources are often identifiable by the host name, and often the
banners to be placed in an encrypted page come unencrypted nonetheless for
efficiency reasons, which exposes them to the full power of Privoxy's ad
blocking.

"Content cookies" (those that are embedded in the actual HTML or JS page
content, see filter{content-cookies}), in an SSL transaction will be impossible
to block under these conditions. Fortunately, this does not seem to be a very
common scenario since most cookies come by traditional means.

-------------------------------------------------------------------------------

4.13. Privoxy runs as a "server". How secure is it? Do I need to take any
special precautions?

There are no known exploits that might affect Privoxy. On Unix-like systems,
Privoxy can run as a non-privileged user, which is how we recommend it be run.
Also, by default Privoxy only listens to requests from "localhost" only. The
server aspect of Privoxy is not itself directly exposed to the Internet in this
configuration. If you want to have Privoxy serve as a LAN proxy, this will have
to be opened up to allow for LAN requests. In this case, we'd recommend you
specify only the LAN gateway address, e.g. 192.168.1.1, in the main Privoxy
configuration file and check all access control and security options. All LAN
hosts can then use this as their proxy address in the browser proxy
configuration, but Privoxy will not listen on any external interfaces. ACLs can
be defined in addition, and using a firewall is always good too. Better safe
than sorry.

-------------------------------------------------------------------------------

4.14. How can I temporarily disable Privoxy?

The easiest way is to access Privoxy with your browser by using the remote
toggle URL: http://config.privoxy.org/toggle. See the Bookmarklets section of
the User Manual for an easy way to access this feature.

-------------------------------------------------------------------------------

4.15. When "disabled" is Privoxy totally out of the picture?

No, this just means all filtering and actions are disabled. Privoxy is still
acting as a proxy, but just not doing any of the things that Privoxy would
normally be expected to do. It is still a "middle-man" in the interaction
between your browser and web sites.

-------------------------------------------------------------------------------

4.16. My logs show Privoxy "crunches" ads, but also its own CGI pages. What is
a "crunch"?

A "crunch" simply means Privoxy intercepted something, nothing more. Often this
is indeed ads or banners, but Privoxy uses the same mechanism for trapping
requests for its own internal pages. For instance, a request for Privoxy's
configuration page at: http://config.privoxy.org, is intercepted (i.e. it does
not go out to the 'net), and the familiar CGI configuration is returned to the
browser, and the log consequently will show a "crunch".

-------------------------------------------------------------------------------

4.17. Can Privoxy effect files that I download from a webserver? FTP server?

From the webserver's perspective, there is no difference between viewing a
document (i.e. a page), and downloading a file. The same is true of Privoxy. If
there is a match for a block pattern, it will still be blocked, and of course
this is obvious.

Filtering is potentially more of a concern since the results are not always so
obvious, and the effects of filtering are there whether the file is simply
viewed, or downloaded. And potentially whether the content is some obnoxious
advertizement, or Mr. Jimmy's latest/greatest source code jewel. Of course, one
of these presumably is "bad" content that we don't want, and the other is
"good" content that we do want. Privoxy is blind to the differences, and can
only distinguish "good from bad" by the configuration parameters we give it.

Privoxy knows the differences in files according to the "Document Type" as
reported by the webserver. If this is reported accurately (e.g. "application/
zip" for a zip archive), then Privoxy knows to ignore these where appropriate.
Privoxy potentially can filter HTML as well as plain text documents, subject to
configuration parameters of course. Also, documents that are of an unknown type
(generally assumed to be "text/plain") can be filtered, as will those that
might be incorrectly reported by the webserver. If such a file is a downloaded
file that is intended to be saved to disk, then any content that might have
been altered by filtering, will be saved too, for these (probably rare) cases.

Note that versions later than 3.0.2 do NOT filter document types of "text/
plain". Prior to this, Privoxy did filter this document type.

In short, filtering is "ON" if a) the Document Type as reported by the
webserver is appropriate and b) the configuration allows it (or at least does
not disallow it). That's it. There is no magic cookie anywhere to say this is
"good" and this is "bad". It's the configuration that let's it all happen or
not.

If you download text files, you probably do not want these to be filtered,
particularly if the content is source code, or other critical content. Source
code sometimes might be mistaken for Javascript (i.e. the kind that might open
a pop-up window). It is recommended to turn off filtering for download sites
(particularly if the content may be plain text files and you are using version
3.0.2 or earlier) in your user.action file. And also, for any site or page
where making any changes at all to the content is to be avoided.

Privoxy does not do FTP at all, only HTTP protocols, so please don't even try.

-------------------------------------------------------------------------------

4.18. I just downloaded a Perl script, and Privoxy altered it! Yikes, what is
wrong!

Please read above.

-------------------------------------------------------------------------------

4.19. Where can I find more information about Privoxy and related issues?

Other references and sites of interest to Privoxy users:

http://www.privoxy.org/, the Privoxy Home page.

http://www.privoxy.org/faq/, the Privoxy FAQ.

http://sourceforge.net/projects/ijbswa/, the Project Page for Privoxy on
SourceForge.

http://config.privoxy.org/, the web-based user interface. Privoxy must be
running for this to work. Shortcut: http://p.p/

http://www.privoxy.org/actions/, to submit "misses" to the developers.

http://cvs.sourceforge.net/cgi-bin/viewcvs.cgi/ijbswa/contrib/, cool and fun
ideas from Privoxy users.

http://www.junkbusters.com/ht/en/cookies.html, an explanation how cookies are
used to track web users.

http://www.junkbusters.com/ijb.html, the original Internet Junkbuster.

http://www.waldherr.org/junkbuster/, Stefan Waldherr's version of Junkbuster,
from which Privoxy was derived.

http://privacy.net/analyze/, a useful site to check what information about you
is leaked while you browse the web.

http://www.squid-cache.org/, a very popular caching proxy, which is often used
together with Privoxy.

http://www.privoxy.org/developer-manual/, the Privoxy developer manual.

-------------------------------------------------------------------------------

4.20. I've noticed that Privoxy changes "Microsoft" to "MicroSuck"! Why are you
manipulating my browsing?

We're not. The text substitutions that you are seeing are disabled in the
default configuration as shipped. You have either manually activated the "fun"
filter which is clearly labeled "Text replacements for subversive browsing fun!
" or you have implicitly activated it by choosing the "Adventuresome" profile
in the web-based editor (formerly known as the Advanced profile).

-------------------------------------------------------------------------------

5. Troubleshooting

5.1. I just upgraded and am getting "connection refused" with every web page?

Either Privoxy is not running, or your browser is configured for a different
port than what Privoxy is using.

The old Privoxy (and also Junkbuster) used port 8000 by default. This has been
changed to port 8118 now, due to a conflict with NAS (Network Audio Service),
which uses port 8000. If you haven't, you need to change your browser to the
new port number, or alternately change the listen-address option in Privoxy's
main configuration file.

-------------------------------------------------------------------------------

5.2. I just added a new rule, but the steenkin ad is still getting through.
How?

If the ad had been displayed before you added its URL, it will probably be held
in the browser's cache for some time, so it will be displayed without the need
for any request to the server, and Privoxy will not be in the picture. The best
thing to do is try flushing the browser's caches. And then try again.

If this doesn't help, you probably have an error in the rule you applied. Try
pasting the full URL of the offending ad into http://config.privoxy.org/
show-url-info and see if it really matches your new rule.

-------------------------------------------------------------------------------

5.3. One of my favorite sites does not work with Privoxy. What can I do?

First verify that it is indeed a Privoxy problem, by toggling off Privoxy
through http://config.privoxy.org/toggle, and then shift-reloading the problem
page (i.e. holding down the shift key while clicking reload. Alternatively,
flush your browser's disk and memory caches).

If still a problem, go to http://config.privoxy.org/show-url-info and paste the
full URL of the page in question into the prompt. See which actions are being
applied to the URL, and which matches in which actions files are responsible
for that. Now, armed with this information, go to http://config.privoxy.org/
show-status and select the appropriate actions files for editing.

You can now either look for a section which disables the actions that you
suspect to cause the problem and add a pattern for your site there, or make up
a completely new section for your site. In any case, the recommended way is to
disable only the prime suspect, reload the problem page, and only if the
problem persists, disable more and more actions until you have identified the
culprit. You may or may not want to turn the other actions on again. Remember
to flush your browser's caches in between any such changes!

Alternately, if you are comfortable with a text editor, you can accomplish the
same thing by editing the appropriate actions file. Probably the easiest way to
deal with such problems when editing by hand is to add your site to a { fragile
} section in user.action, which is an alias that turns off most "dangerous"
actions, but is also likely to turn off more actions then needed, and thus
lower your privacy and protection more than necessary,

Troubleshooting actions is discussed in more detail in the user-manual appendix
. There is also an actions tutorial.

-------------------------------------------------------------------------------

5.4. After installing Privoxy, I have to log in every time I start IE. What
gives?

This is a quirk that effects the installation of Privoxy, in conjunction with
Internet Explorer and Internet Connection Sharing on Windows 2000 and Windows
XP. The symptoms may appear to be corrupted or invalid DUN settings, or
passwords.

When setting up an NT based Windows system with Privoxy you may find that
things do not seem to be doing what you expect. When you set your system up you
will probably have set up Internet Connection Sharing (ICS) with Dial up
Networking (DUN) when logged in with administrator privileges. You will
probably have made this DUN connection available to other accounts that you may
have set-up on your system. E.g. Mum or Dad sets up the system and makes
accounts suitably configured for the kids.

When setting up Privoxy in this environment you will have to alter the proxy
set-up of Internet Explorer (IE) for the specific DUN connection on which you
wish to use Privoxy. When you do this the ICS DUN set-up becomes user specific.
In this instance you will see no difference if you change the DUN connection
under the account used to set-up the connection. However when you do this from
another user you will notice that the DUN connection changes to make available
to "Me only". You will also find that you have to store the password under each
different user!

The reason for this is that each user's set-up for IE is user specific. Each
set-up DUN connection and each LAN connection in IE store the settings for each
user individually. As such this enforces individual configurations rather than
common ones. Hence the first time you use a DUN connection after re-booting
your system it may not perform as you expect, and prompt you for the password.
Just set and save the password again and all should be OK.

[Thanks to Ray Griffith for this submission.]

-------------------------------------------------------------------------------

5.5. I cannot connect to any FTP sites. Privoxy seems to be blocking me.

Privoxy cannot act as a proxy for FTP traffic, so do not configure your browser
to use Privoxy as an FTP proxy. The same is true for any protocol other than
HTTP or HTTPS.

Most browsers understand FTP as well as HTTP. If you connect to a site, with a
URL like ftp://ftp.example.com, your browser is making an FTP connection, and
not a HTTP connection. So while your browser may speak FTP, Privoxy does not,
and cannot proxy such traffic.

To complicate matters, some systems may have a generic "proxy" setting, which
will silently enable both HTTP and FTP proxying! So it is possible to
accidentally enable FTP proxying in these cases. And of course, if this
happens, Privoxy will indeed cause problems since it does not know FTP.

Will Privoxy ever proxy FTP traffic? Unlikely. There just is not much reason,
and the work to make this happen is more than it may seem.

-------------------------------------------------------------------------------

5.6. In Mac OSX, I can't configure Microsoft Internet Explorer to use Privoxy
as the HTTP proxy.

Microsoft Internet Explorer (in versions like 5.1) respects system-wide network
settings. In order to change the HTTP proxy, open System Preferences, and click
on the Network icon. In the settings pane that comes up, click on the Proxies
tab. Ensure the "Web Proxy (HTTP)" checkbox is checked and enter 127.0.0.1 in
the entry field. Enter 8118 in the Port field. The next time you start IE, it
should reflect these values.

-------------------------------------------------------------------------------

5.7. In Mac OSX, I dragged the Privoxy folder to the trash in order to
uninstall it. Now the finder tells me I don't have sufficient privileges to
empty the trash.

Just dragging the Privoxy folder to the trash is not enough to delete it.
Privoxy supplies an uninstall.command file that takes care of these details.
Open the trash, drag the uninstall.command file out of the trash and
double-click on it. You will be prompted for confirmation and the
administration password.

The trash may still appear full after this command; emptying the trash from the
desktop should make it appear empty again.

-------------------------------------------------------------------------------

5.8. In Mac OSX Panther (10.3), images often fail to load and/or I experience
random delays in page loading. I'm using localhost as my browser's proxy
setting.

We believe this is due to an IPv6-related bug in OSX, but don't fully
understand the issue yet. In any case, changing the proxy setting to 127.0.0.1
instead of localhost works around the problem.

-------------------------------------------------------------------------------

5.9. I get a completely blank page at one site. "View Source" shows only:
<html><body></body></html>. Without Privoxy the page loads fine.

Chances are that the site suffers from a bug in PHP, which results in empty
pages being sent if the client explicitly requests an uncompressed page, like
Privoxy does. This bug has been fixed in PHP 4.2.3.

To find out if this is in fact the source of the problem, try adding the site
to a -prevent-compression section in user.action:

   # Make exceptions for ill-behaved sites:
   #
   {-prevent-compression}
    .example.com


If that works, you may also want to report the problem to the site's
webmasters, telling them to use zlib.output_compression instead of ob_gzhandler
in their PHP applications (workaround) or upgrade to PHP 4.2.3 or later (fix).

-------------------------------------------------------------------------------

5.10. Why am I getting a 503 Error (WSAECONNREFUSED) on every page?

More than likely this is a problem with the network stack. ZoneAlarm has been
reported to cause this symptom -- even if not running. The solution is to
either fight the ZA configuration, or uninstall ZoneAlarm, and then find
something better behaved in its place. Other firewall type products may cause
similar type problems if not configured correctly.

-------------------------------------------------------------------------------

5.11. My logs show many "Unable to get my own hostname" lines. Why?

Privoxy tries to get the hostname of the system its running on from the IP
address of the system interface it is bound to (from the config file
listen-address setting). If the system cannot supply this information, Privoxy
logs this condition.

Typically, this would be considered a system configuration error. It is not a
fatal error to Privoxy however, but may result in a much slower response from
Privoxy due to DNS timeouts.

-------------------------------------------------------------------------------

5.12. When I try to launch Privoxy, I get an error message "port 8118 is
already in use" (or similar wording). Why?

Port 8118 is Privoxy's default TCP "listening" port. Typically this message
would mean that there is already one instance of Privoxy running, and you are
actually trying to start a second Privoxy on the same port, which will not
work. How and why this might happen varies from platform to platform, but you
need to check your installation and start-up procedures.

-------------------------------------------------------------------------------

5.13. Pages with UTF-8 fonts are garbled.

This is caused by the "demoronizer" filter, which was introduced in version
3.0.2, and was inappropriately turned on by default. You should either upgrade
Privoxy, or at least upgrade to the most recent default.action file available
from SourceForge. Or you can simply disable the demoronizer filter.

-------------------------------------------------------------------------------

5.14. Why are binary files (such as images) corrupted when Privoxy is used?

This may also be caused by the "demoronizer" filter, in conjunction with a web
server that is misreporting a file type. Binary files are exempted from
Privoxy's filtering (unless the web server by mistake says the file is a plain
text file). Either upgrade Privoxy, or go to the most recent default.action
file available from SourceForge.

-------------------------------------------------------------------------------

5.15. What is the "demoronizer" and why is it there?

The original demoronizer was a Perl script that cleaned up HTML pages which
were created with certain Microsoft products. MS has used proprietary
extensions to standardized font encodings (ISO 8859-1), which has caused
problems for pages that are viewed with non-Microsoft products (and are
expecting to see a standard set of fonts). The demoronizer corrected these
errors so the pages displayed correctly. Privoxy borrowed from this script,
introducing a filter based on the original demoronizer, which in turn could
correct these errors on the fly.

But this is only needed in some situations, and will cause serious problems in
some other situations.

If you are using Microsoft products, you do not need it. If you need to view
pages with UTF-8 characters (such as Cyrillic or Chinese), then it will cause
corruption of the fonts, and thus should not be on.

On the other hand, if you use non-Microsoft products, and you occasionally
notice wierd characters on pages, you might want to try it.

This filter was introduced with version 3.0.2 of Privoxy, and was on by default
in that version. It is off in all subsequent versions (unless turned on by the
user).

-------------------------------------------------------------------------------

5.16. Why do I keep seeing "PrivoxyWindowOpen()" in raw source code?

Privoxy is attempting to disable malicious Javascript in this case, with the
unsolicited-popups filter. Privoxy cannot tell very well "good" code snippets
from "bad" code snippets.

If you see this in HTML source, and the page displays without problems, then
this is good, and likely some pop-up window was disabled. If you see this where
it is causing a problem, such as a downloaded program source code file, then
you should set an exception for this site or page such that the integrity of
the page stays in tact by disabling all filtering.

-------------------------------------------------------------------------------

6. Contacting the developers, Bug Reporting and Feature Requests

We value your feedback. In fact, we rely on it to improve Privoxy and its
configuration. However, please note the following hints, so we can provide you
with the best support:

-------------------------------------------------------------------------------

6.1. Get Support

For casual users, our support forum at SourceForge is probably best suited:
http://sourceforge.net/tracker/?group_id=11118&atid=211118

All users are of course welcome to discuss their issues on the users mailing
list, where the developers also hang around.

-------------------------------------------------------------------------------

6.2. Report Bugs

Please report all bugs only through our bug tracker: http://sourceforge.net/
tracker/?group_id=11118&atid=111118.

Before doing so, please make sure that the bug has not already been submitted
and observe the additional hints at the top of the submit form.

Please try to verify that it is a Privoxy bug, and not a browser or site bug
first. If unsure, try toggling off Privoxy, and see if the problem persists.
The appendix of the user manual also has helpful information on action
debugging. If you are using your own custom configuration, please try the stock
configs to see if the problem is configuration related.

If not using the latest version, chances are that the bug has been found and
fixed in the meantime. We would appreciate if you could take the time to
upgrade to the latest version (or even the latest CVS snapshot) and verify your
bug, but this is not required for reporting.

-------------------------------------------------------------------------------

6.3. Request New Features

You are welcome to submit ideas on new features or other proposals for
improvement through our feature request tracker at http://sourceforge.net/
tracker/?atid=361118&group_id=11118.

-------------------------------------------------------------------------------

6.4. Report Ads or Other Actions-Related Problems

Please send feedback on ads that slipped through, innocent images that were
blocked, and any other problems relating to the default.action file through our
actions feedback mechanism located at http://www.privoxy.org/actions/. On this
page, you will also find a bookmark which will take you back there from any
troubled site and even pre-fill the form!

New, improved default.action files will occasionally be made available based on
your feedback. These will be announced on the ijbswa-announce list and
available from our the files section of our project page.

-------------------------------------------------------------------------------

6.5. Other

For any other issues, feel free to use the mailing lists. Technically
interested users and people who wish to contribute to the project are also
welcome on the developers list! You can find an overview of all Privoxy-related
mailing lists, including list archives, at: http://sourceforge.net/mail/?
group_id=11118.

-------------------------------------------------------------------------------

7. Privoxy Copyright, License and History

Copyright © 2001 - 2004 by Privoxy Developers <developers@privoxy.org>

Some source code is based on code Copyright © 1997 by Anonymous Coders and
Junkbusters, Inc. and licensed under the GNU General Public License.

Portions of this document are "borrowed" from the original Junkbuster (tm) FAQ,
and modified as appropriate for Privoxy.

-------------------------------------------------------------------------------

7.1. License

Privoxy is free software; you can redistribute it and/or modify it under the
terms of the GNU General Public License, version 2, as published by the Free
Software Foundation.

This program is distributed in the hope that it will be useful, but WITHOUT ANY
WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
PARTICULAR PURPOSE. See the GNU General Public License for more details, which
is available from the Free Software Foundation, Inc, 59 Temple Place - Suite
330, Boston, MA 02111-1307, USA.

You should have received a copy of the GNU General Public License along with
this program; if not, write to the

 Free Software
 Foundation, Inc. 59 Temple Place - Suite 330
 Boston, MA 02111-1307
 USA 

-------------------------------------------------------------------------------

7.2. History

In the beginning, there was the Internet Junkbuster, by Anonymous Coders and
Junkbusters Corporation. It saved many users a lot of pain in the early days of
web advertising and user tracking.

But the web, its protocols and standards, and with it, the techniques for
forcing users to consume ads, give up autonomy over their browsing, and for
spying on them, kept evolving. Unfortunately, the Internet Junkbuster did not.
Version 2.0.2, published in 1998, was (and is) the last official release
available from Junkbusters Corporation. Fortunately, it had been released under
the GNU GPL, which allowed further development by others.

So Stefan Waldherr started maintaining an improved version of the software, to
which eventually a number of people contributed patches. It could already
replace banners with a transparent image, and had a first version of pop-up
killing, but it was still very closely based on the original, with all its
limitations, such as the lack of HTTP/1.1 support, flexible per-site
configuration, or content modification. The last release from this effort was
version 2.0.2-10, published in 2000.

Then, some developers picked up the thread, and started turning the software
inside out, upside down, and then reassembled it, adding many new features
along the way.

The result of this is Privoxy, whose first stable version, 3.0, was released
August, 2002.

